#!/usr/bin/python3

"""
Convert any file to PDF

Usage:
    topdf <path>...
"""

from docopt import docopt

from topdf.path_handlers import list_handlers

if __name__ == '__main__':
    args = docopt(__doc__, options_first=True, version='topdf 0.1')

    for path in args['<path>']:

        handler = [hnd for name, hnd in list_handlers().items()
                   if hnd.can_handle(path)]

        if len(handler) != 1:
            raise RuntimeError("No appropriate handler could be found"
                               " for path: %s" % path)

        handler[0].make_pdf(path)
